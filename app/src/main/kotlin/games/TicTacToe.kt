/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package games

class TicTacToe(
        val player1: Player = Player(name = "Lianne", id = 1),
        val player2: Player = Player(name = "Paul", id = 2)
) {
    private val greeting = "Welcome to the Tic Tac Toe game!"
    private val board = Board()
    private val displayer = TextDisplayer()

    //    /// Print the updated board after every move
    fun printBoard(board: Board) {
        return displayer.display(board)
    }

    //
    fun playGame() {
        println(greeting) /// greeting
        printBoard(board)
        var moves = 0
        val players = listOf(player1, player2)
        while(moves < 9) {
            val curPlayer= players[moves%2]
            val validMoves = board.getValidMoves()
            val move = TextInputController().getMoveFromPlayer(curPlayer, validMoves)
            board.takeTurn(curPlayer, move)
            printBoard(board)
            moves++
        }
        /// for player in players:
        /// get move from player
        /// take turn
        /// display board
        /// if player won, or numMoves = 9. return false. else true

//        var move = TextInputController().getMoveFromPlayer(player)
    }
}

fun main() {
    val game = TicTacToe().playGame()
//    println(TicTacToe().greeting)
//    val board = Board()
//    TextDisplayer().display(board)
//    var player = Player("Lianne", 1)
//    var move = TextInputController().getMoveFromPlayer(player)
//    board.takeTurn(player, move)
//    TextDisplayer().display(board)
//    var player2 = Player("Paul", 2)
//    move = TextInputController().getMoveFromPlayer(player2)
//    board.takeTurn(player2, move)
//    TextDisplayer().display(board)
}
